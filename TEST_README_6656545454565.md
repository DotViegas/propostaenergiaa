# Script de Teste - Webhook Proposta

## Descrição
Script Python para testar requisições ao endpoint `/webhook_proposta` da API de geração de propostas.

## Pré-requisitos
```bash
pip install requests
```

## Como usar

### 1. Iniciar o servidor
```bash
python app.py
```

### 2. Executar o teste (em outro terminal)
```bash
python test_webhook.py
```

## Dados de teste
O script envia os seguintes dados por padrão:
```json
{
  "nome_completo": "João da Silva Santos",
  "endereco": "Rua das Palmeiras, 456 - Centro - Campo Grande/MS",
  "valor_fatura": "550.75"
}
```

## Personalizar dados
Edite o arquivo `test_webhook.py` e modifique o dicionário `dados_teste`:
```python
dados_teste = {
    "nome_completo": "Seu Nome Aqui",
    "endereco": "Seu Endereço Completo",
    "valor_fatura": "999.99"
}
```

## Testar validações
Descomente a última linha do arquivo para testar casos de erro:
```python
# testar_validacoes()  # Remover o # para ativar
```

## Correções aplicadas
✅ Migrado de `@validator` (Pydantic V1) para `@field_validator` (Pydantic V2)
✅ Adicionado `@classmethod` aos validators conforme Pydantic V2
✅ Warnings de deprecação resolvidos
